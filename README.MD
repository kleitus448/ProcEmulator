# ProcEmulator
Консольный эмулятор работы процессора с собственной архитектурой, частично основанной на архитектуре MIPS. Реализован на языке программирования C++.

## Особенности работы.
- Эмулятор может работать как с файлами в бинарном коде, так и на собственном языке ассемблера (который расписан ниже).
- Во время работы можно настраивать отладочные выводы: какая память будет выводится при выполнении команды.
- До и после выполнения работы можно сохранять текущее состояние процессора (т.е. память команд и память данных).

## Особенности построения
- В эмулятор входят три типа памяти: РОН (регистры общего назначения), память данных, память команд. 
- Последний регистр РОН отводится под регистр флагов. Его нельзя использовать.

## Особенности написания кода
- В коде могут использоваться табуляции и пробелы.
- Можно ставить комментарии (пока только на отдельных строках)

## Дальнейшие доработки:
- Корректировки и расширение пула команд (инкремент, декремент, непосредственная запись в память команд).
- Доработка комментирования
- Возможность редактирования команд напрямую из эмулятора.
- Безопасный ввод/вывод данных.
- Прогон программы по одной кнопке
- Добавление программ друг за другом.
- Оконный интерфейс
- Система помощи.

## Команды (номер команды = код команды):

#### 0. EMPTY
> Пустая команда, без аргументов, задаётся нулями.

### Арифметические и логические операции
>_После выполнения любой арифметической/логической операции её результат сравнивается с нулём,_ </br>
_и в зависимости от результата сравнения выставляется один из трёх возможных флагов:_
_- больше нуля (GZ - Greater than Zero)_
_- равен нулю (EZ - Equals Zero)_
_- меньше нуля (LZ - Less than Zero)_
_По значениям флаго можно осуществлять переходы. Команды, отвечающие за них описаны в разделе "Операции (без)условного перехода"._

#### 1. ADD (Addition)
> ADD {адрес регистра РОН 1-го операнда/адрес регистра РОН результата} {адрес регистра РОН 2-го операнда}. </br> 
Команда сложения двух целых чисел.
#### 2. SUB (Subtraction)
> ADD {адрес регистра РОН 1-го операнда/адрес регистра РОН результата} {адрес регистра РОН 2-го операнда}. </br> 
Команда вычитания двух целых чисел.
#### 3. AND 
> AND {адрес регистра РОН 1-го операнда/адрес регистра РОН результата} {адрес регистра РОН 2-го операнда}. </br> 
Команда конъюнкции (побитового "И") двух целых чисел.
#### 4. OR 
> OR {адрес регистра РОН 1-го операнда/адрес регистра РОН результата} {адрес регистра РОН 2-го операнда}. </br> 
Команда дизъюнкции (побитового "И") двух целых чисел.
#### 5. XOR 
> XOR {адрес регистра РОН 1-го операнда/адрес регистра РОН результата} {адрес регистра РОН 2-го операнда}. </br> 
Команда "Сложения по модулю 2" двух целых чисел.
#### 6. NOT
> NOT {адрес регистра РОН 1-го операнда/адрес регистра РОН результата}. </br> 
Команда побитового отрицания.
#### 7. SHL (Shift Left)
> SHL {адрес регистра РОН 1-го операнда/адрес регистра РОН результата}. </br> 
Команда сдвига влево.
#### 8. SHR (Shift Right)
> SHR {адрес регистра РОН 1-го операнда/адрес регистра РОН результата}. </br> 
Команда сдвига вправо.

### Операции взаимодействия между регистрами/ячейками памяти данных
#### 9. IREG (Immediate To Register)
> IREG {адрес регистра РОН} {непосредственное значение}. </br> 
Команда копирования непосредственного значения в регистр РОН.
#### 10. IMEM (Immediate To Memory)
> IMEM {адрес ячейки памяти данных} {непосредственное значение}. </br> 
Команда копирования непосредственного значения в память данных.
#### 11. RTR (Register To Register)
> RTR {адрес 1-го регистра РОН} {адрес 2-го регистра РОН}. </br> 
Копирование значения из 2-го регистра РОН в 1-й регистр РОН.
#### 12. MTM (Memory To Memory)
> MTM {1-ый адрес ячейки памяти данных} {2-ой адрес ячейки памяти данных}. </br> 
Копирование значения из ячейки памяти данных с 2-ым адресом в ячейку памяти данных с 1-ым адресом.
#### 13. RTM (Register To Memory)
> RTM {адрес ячейки памяти данных} {адрес регистра РОН}. </br> 
Копирование значения из регистра РОН в ячейку памяти данных.
#### 14. MTR (Memory To Register)
> MTR {адрес регистра РОН} {адрес ячейки памяти данных}. </br> 
Копирование значения из ячейки памяти данных в регистр РОН.
#### 15. MTRA (Memory To Register (indirect Addressing))
> MTM {адрес 1-го регистра РОН} {адрес 2-го регистра РОН, значение которого - адрес ячейки памяти данных}. </br> 
Копирование значения из ячейки памяти данных, адрес которой указан в 2-ом регистре РОН (косвенная адресация), в 1-ый регистр РОН.

### Операции (без)условного перехода 
>_Все операции отталкиваются от значений флагов, которые могут быть получены после арифметических/логических операций._

#### 16. JEZ (Jump if result Equals Zero)
> JEZ {адрес ячейки памяти команд (адрес команды) или метка}. </br> 
Команда условного перехода по значению флага EZ. Если указана метка, при обработке кода она заменяется на адрес ячейки в памяти команд. </br> 
Если флаг EZ равен 1-це, на счётчик команд записывается адрес команды, в противном случае происходит инкремент значения счётчика команд.
#### 17. JGZ (Jump if result Greater than Zero)
> JGZ {адрес ячейки памяти команд (адрес команды) или метка}. </br> 
Команда условного перехода по значению флага GZ. Если указана метка, при обработке кода она заменяется на адрес ячейки в памяти команд. </br>
Если флаг GZ равен 1-це, на счётчик команд записывается адрес команды, в противном случае происходит инкремент значения счётчика команд.
#### 18. JLZ (Jump if result Less than Zero)
> JLZ {адрес ячейки памяти команд (адрес команды) или метка}. </br> 
Команда условного перехода по значению флага LZ. Если указана метка, при обработке кода она заменяется на адрес ячейки в памяти команд. </br>
Если флаг LZ равен 1-це, на счётчик команд записывается адрес команды, в противном случае происходит инкремент значения счётчика команд.
#### 19. JP (JumP)
> JP {адрес ячейки памяти команд (адрес команды) или метка}. </br> 
Команда безусловного перехода. Если указана метка, при обработке кода она заменяется на адрес ячейки в памяти команд.
На счётчик команд записывается адрес команды.
